<svg xmlns="http://www.w3.org/2000/svg" width="1206.75" height="782">
<defs><marker id="arrow-filled" refX="6" refY="3" markerWidth="6" markerHeight="6" orient="auto"><path d="M0,0 6,3 0,6z" style="stroke: none; fill: black;"></path></marker><marker id="arrow-open" refX="6" refY="3" markerWidth="6" markerHeight="6" orient="auto"><path d="M0,0 6,3 0,6" style="stroke-width: 1; fill: none; stroke: black;"></path></marker></defs><rect width="88" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="10" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="54" y="39" style="text-anchor: middle; alignment-baseline: central;">receiver</text></g><rect width="88" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="10" y="724"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="54" y="743" style="text-anchor: middle; alignment-baseline: central;">receiver</text></g><path d="M54,58 v666" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="79.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="408.25" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="448" y="39" style="text-anchor: middle; alignment-baseline: central;">atsintc</text></g><rect width="79.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="408.25" y="724"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="448" y="743" style="text-anchor: middle; alignment-baseline: central;">atsintc</text></g><path d="M448,58 v666" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="71" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="792.5" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="828" y="39" style="text-anchor: middle; alignment-baseline: central;">sender</text></g><rect width="71" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="792.5" y="724"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="828" y="743" style="text-anchor: middle; alignment-baseline: central;">sender</text></g><path d="M828,58 v666" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="130.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="1046.25" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="1111.5" y="39" style="text-anchor: middle; alignment-baseline: central;">shared memory</text></g><rect width="130.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="1046.25" y="724"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="1111.5" y="743" style="text-anchor: middle; alignment-baseline: central;">shared memory</text></g><path d="M1111.5,58 v666" style="stroke-width: 1; fill: none; stroke: black;"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="251" y="83" style="text-anchor: middle; alignment-baseline: central;">1.register IPC handler </text></g><path d="M54,96 h394" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="643" y="125" style="text-anchor: middle; alignment-baseline: central;">2.IPC blocked queue of receiver enqueue </text></g><path d="M448,111 C488,111 488,144 448,144" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="969.75" y="159" style="text-anchor: middle; alignment-baseline: central;">3.IPC task write shared memory </text></g><path d="M828,172 h283.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="638" y="197" style="text-anchor: middle; alignment-baseline: central;">4.IPC task write MMIO register </text></g><path d="M828,210 h-380" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="634.5" y="239" style="text-anchor: middle; alignment-baseline: central;">5.IPC blocked queue of sender enqueue </text></g><path d="M448,225 C488,225 488,258 448,258" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="643" y="277" style="text-anchor: middle; alignment-baseline: central;">6.IPC blocked queue of receiver dequeue </text></g><path d="M448,263 C488,263 488,296 448,296" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="617.5" y="315" style="text-anchor: middle; alignment-baseline: central;">7.receiver priority queue enqueue </text></g><path d="M448,301 C488,301 488,334 448,334" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="251" y="349" style="text-anchor: middle; alignment-baseline: central;">8.fetch task </text></g><path d="M54,362 h394" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="617.5" y="391" style="text-anchor: middle; alignment-baseline: central;">9.receiver priority queue dequeue </text></g><path d="M448,377 C488,377 488,410 448,410" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="251" y="425" style="text-anchor: middle; alignment-baseline: central;">10.return the IPC handler </text></g><path d="M448,438 h-394" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="582.75" y="463" style="text-anchor: middle; alignment-baseline: central;">11.read IPC arguments from shared memory </text></g><path d="M54,476 h1057.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="151.25" y="505" style="text-anchor: middle; alignment-baseline: central;">12.deal with IPC </text></g><path d="M54,491 C94,491 94,524 54,524" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="251" y="539" style="text-anchor: middle; alignment-baseline: central;">13.receiver IPC handler write MMIO register </text></g><path d="M54,552 h394" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="638.75" y="581" style="text-anchor: middle; alignment-baseline: central;">14.IPC blocked queue of sender dequeue </text></g><path d="M448,567 C488,567 488,600 448,600" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="613.25" y="619" style="text-anchor: middle; alignment-baseline: central;">15.sender priority queue enqueue </text></g><path d="M448,605 C488,605 488,638 448,638" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="638" y="653" style="text-anchor: middle; alignment-baseline: central;">16.fetch task </text></g><path d="M828,666 h-380" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="638" y="691" style="text-anchor: middle; alignment-baseline: central;">17.return the blocked IPC task </text></g><path d="M448,704 h380" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path></svg>