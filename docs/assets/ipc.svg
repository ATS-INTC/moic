<svg xmlns="http://www.w3.org/2000/svg" width="1294.75" height="820">
<defs><marker id="arrow-filled" refX="6" refY="3" markerWidth="6" markerHeight="6" orient="auto"><path d="M0,0 6,3 0,6z" style="stroke: none; fill: black;"></path></marker><marker id="arrow-open" refX="6" refY="3" markerWidth="6" markerHeight="6" orient="auto"><path d="M0,0 6,3 0,6" style="stroke-width: 1; fill: none; stroke: black;"></path></marker></defs><rect width="88" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="10" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="54" y="39" style="text-anchor: middle; alignment-baseline: central;">receiver</text></g><rect width="88" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="10" y="762"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="54" y="781" style="text-anchor: middle; alignment-baseline: central;">receiver</text></g><path d="M54,58 v704" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="71" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="251" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="286.5" y="39" style="text-anchor: middle; alignment-baseline: central;">kernel</text></g><rect width="71" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="251" y="762"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="286.5" y="781" style="text-anchor: middle; alignment-baseline: central;">kernel</text></g><path d="M286.5,58 v704" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="79.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="479.25" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="519" y="39" style="text-anchor: middle; alignment-baseline: central;">atsintc</text></g><rect width="79.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="479.25" y="762"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="519" y="781" style="text-anchor: middle; alignment-baseline: central;">atsintc</text></g><path d="M519,58 v704" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="71" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="872" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="907.5" y="39" style="text-anchor: middle; alignment-baseline: central;">sender</text></g><rect width="71" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="872" y="762"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="907.5" y="781" style="text-anchor: middle; alignment-baseline: central;">sender</text></g><path d="M907.5,58 v704" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="130.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="1134.25" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="1199.5" y="39" style="text-anchor: middle; alignment-baseline: central;">shared memory</text></g><rect width="130.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="1134.25" y="762"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="1199.5" y="781" style="text-anchor: middle; alignment-baseline: central;">shared memory</text></g><path d="M1199.5,58 v704" style="stroke-width: 1; fill: none; stroke: black;"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="170.25" y="83" style="text-anchor: middle; alignment-baseline: central;">1.1 register IPC handler </text></g><path d="M54,96 h232.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="402.75" y="121" style="text-anchor: middle; alignment-baseline: central;">1.2 register IPC handler </text></g><path d="M286.5,134 h232.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="718.25" y="163" style="text-anchor: middle; alignment-baseline: central;">2. IPC blocked queue of receiver enqueue </text></g><path d="M519,149 C559,149 559,182 519,182" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="1053.5" y="197" style="text-anchor: middle; alignment-baseline: central;">3. IPC task write shared memory </text></g><path d="M907.5,210 h292" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="713.25" y="235" style="text-anchor: middle; alignment-baseline: central;">4. IPC task write MMIO register </text></g><path d="M907.5,248 h-388.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="709.75" y="277" style="text-anchor: middle; alignment-baseline: central;">5. IPC blocked queue of sender enqueue </text></g><path d="M519,263 C559,263 559,296 519,296" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="718.25" y="315" style="text-anchor: middle; alignment-baseline: central;">6. IPC blocked queue of receiver dequeue </text></g><path d="M519,301 C559,301 559,334 519,334" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="692.75" y="353" style="text-anchor: middle; alignment-baseline: central;">7. receiver priority queue enqueue </text></g><path d="M519,339 C559,339 559,372 519,372" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="286.5" y="387" style="text-anchor: middle; alignment-baseline: central;">8. fetch task </text></g><path d="M54,400 h465" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="692.75" y="429" style="text-anchor: middle; alignment-baseline: central;">9. receiver priority queue dequeue </text></g><path d="M519,415 C559,415 559,448 519,448" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="286.5" y="463" style="text-anchor: middle; alignment-baseline: central;">10. return the IPC handler </text></g><path d="M519,476 h-465" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="626.75" y="501" style="text-anchor: middle; alignment-baseline: central;">11. read IPC arguments from shared memory </text></g><path d="M54,514 h1145.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="155.5" y="543" style="text-anchor: middle; alignment-baseline: central;">12. deal with IPC </text></g><path d="M54,529 C94,529 94,562 54,562" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="286.5" y="577" style="text-anchor: middle; alignment-baseline: central;">13. receiver IPC handler write MMIO register </text></g><path d="M54,590 h465" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="714" y="619" style="text-anchor: middle; alignment-baseline: central;">14. IPC blocked queue of sender dequeue </text></g><path d="M519,605 C559,605 559,638 519,638" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="688.5" y="657" style="text-anchor: middle; alignment-baseline: central;">15. sender priority queue enqueue </text></g><path d="M519,643 C559,643 559,676 519,676" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="713.25" y="691" style="text-anchor: middle; alignment-baseline: central;">16. fetch task </text></g><path d="M907.5,704 h-388.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="713.25" y="729" style="text-anchor: middle; alignment-baseline: central;">17. return the blocked IPC task </text></g><path d="M519,742 h388.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path></svg>